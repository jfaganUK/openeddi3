<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">
<link rel="import" href="/bower_components/iron-a11y-keys/iron-a11y-keys.html">

<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html">
<dom-module id="oe-basicnamegen-nameinput">
  <style>
    /* TODO(polyup): For speed, consider reworking these styles with .classes
                     and #ids rather than [attributes].
    */
    [layout] {
    @apply(- -layout);
    }

    [layout][horizontal] {
    @apply(- -layout-horizontal);
    }
  </style>
  <style>
  </style>
  <template>
    <div horizontal="" layout="">
      <paper-input class="oe-nameinput" label="{{oe.prompt}}" value="{{newName}}" flex="">
        <iron-a11y-keys keys="enter" on-keys-pressed="addNewName"></iron-a11y-keys>
            </paper-input>
      <paper-button on-tap="addNewName" raise="">Add Name</paper-button>
        </div>
    </template>
  <script>
    // TODO make the focus change to the input after each input
    //noinspection JSUnusedGlobalSymbols
    Polymer({
      is: 'oe-basicnamegen-nameinput',
      properties: {
        oe: {notify: true},
        response: {notify: true}
      },
      ready: function () {
      },
      addNewName: function () {
        //noinspection JSUnresolvedVariable
        var o = {
          namelist: this.oe.namelist,
          name: this.newName
        };
        this.newName = '';
        app.channels.namelist.command('add-new-name', o);
      }
    });
  </script>
</dom-module>
