<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/core-icons/core-icons.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">
<link rel="import" href="/bower_components/core-a11y-keys/core-a11y-keys.html"/>

<polymer-element name="oe-basicnamegen-nameinput" attributes="oe response">
    <template>
        <div horizontal layout>
            <paper-input class="oe-nameinput" label="{{oe.prompt}}" value="{{newName}}" flex>
                <core-a11y-keys keys="enter" on-keys-pressed="{{addNewName}}"></core-a11y-keys>
            </paper-input>
            <paper-button on-tap="{{addNewName}}" raise>Add Name</paper-button>
        </div>
        <style>
        </style>
    </template>
    <script>
        // TODO make the focus change to the input after each input
        //noinspection JSUnusedGlobalSymbols
        Polymer('oe-basicnamegen-nameinput', {
            ready: function () {
            },

            addNewName: function () {
                //noinspection JSUnresolvedVariable
                var o = {
                    namelist: this.oe.namelist,
                    name: this.newName
                };
                this.newName = "";
                app.channels.namelist.command('add-new-name', o);
            }
        });
    </script>
</polymer-element>
